# ==============================================================================
# Music Monitor é…ç½®æ–‡ä»¶
# ==============================================================================
# ğŸ’¡ è¯´æ˜:
# æœ¬ç³»ç»Ÿé‡‡ç”¨ "æ•°æ®åº“ + é…ç½®æ–‡ä»¶" çš„æ··åˆé…ç½®æ¨¡å¼ã€‚
# 1. åŸºç¡€è®¾æ–½ (æ•°æ®åº“ã€æ—¥å¿—ã€è·¯å¾„): å¿…é¡»åœ¨æ­¤æ–‡ä»¶æˆ–ç¯å¢ƒå˜é‡ä¸­é…ç½®ã€‚
# 2. ä¸šåŠ¡åŠŸèƒ½ (ä¸‹è½½ã€ç›‘æ§ã€é€šçŸ¥): è¯·å¯åŠ¨ååœ¨ç½‘é¡µç«¯ "è®¾ç½®" é¡µé¢è¿›è¡Œé…ç½®ã€‚
# 
# ğŸ‘‡ ä»¥ä¸‹é…ç½®å‡ä¸º åŸºç¡€è®¾æ–½é…ç½® (Infrastructure)
# ==============================================================================

# --- 1. HTTP API æœåŠ¡ ---
api:
  rate_limit:
    requests_per_minute: 60  # é™æµ: æ¯åˆ†é’Ÿè¯·æ±‚æ•°
    burst_size: 10          # é™æµ: çªå‘å…è®¸æ•°
  timeout: 30               # å…¨å±€ API è¶…æ—¶ (ç§’)

# --- 2. å®‰å…¨è®¤è¯ (Auth) ---
auth:
  enabled: true
  username: "music"         # é»˜è®¤ç®¡ç†å‘˜ç”¨æˆ·
  password: "password"      # é»˜è®¤ç®¡ç†å‘˜å¯†ç  (è¯·ä¿®æ”¹!)
  secret_key: "HV1i1DPxwNyWn10XD0lkbHiqa7fsIo6cnW3lrIEF5JM"   # JWT ç­¾åå¯†é’¥ (âš ï¸ å¿…é¡»ä¿®æ”¹ä»¥ä¿è¯å®‰å…¨)
  algorithm: "HS256"
  access_token_expire_minutes: 30
  refresh_token_expire_days: 7

# --- 3. æ•°æ®åº“ (Database) ---
database:
  # é»˜è®¤ä½¿ç”¨ SQLiteã€‚å¦‚éœ€ MySQL/PGï¼Œè¯·ä¿®æ”¹ URLã€‚
  # æ ¼å¼: sqlite+aiosqlite:///è·¯å¾„ æˆ– mysql+aiomysql://user:pass@host/db
  url: "sqlite+aiosqlite:///./music_monitor.db"
  echo: false               # æ˜¯å¦æ‰“å° SQL (è°ƒè¯•ç”¨)
  pool_size: 5
  max_overflow: 10

# --- 4. æ—¥å¿— (Logging) ---
logging:
  level: "INFO"             # DEBUG, INFO, WARNING, ERROR
  format: '%(asctime)s - %(name)s - %(levelname)s - %(message)s'
  file: "logs/application.log"
  max_bytes: 10485760
  backup_count: 5

# --- 5. å­˜å‚¨è·¯å¾„ (Storage) ---
storage:
  # èµ„æ–™åº“: å­˜æ”¾æ‚¨ç¡®è®¤æ”¶è—çš„é«˜è´¨é‡æ–‡ä»¶ (åªè¯»ï¼Œä¸è‡ªåŠ¨åˆ é™¤)
  library_dir: "D:/code/music-monitor/library"
  
  # ç¼“å­˜: å­˜æ”¾è‡ªåŠ¨ä¸‹è½½å’Œè¯•å¬çš„ä¸´æ—¶æ–‡ä»¶ (ä¼šè‡ªåŠ¨æ¸…ç†)
  cache_dir: "D:/code/music-monitor/audio_cache"
  
  # æ”¶è—: ç‚¹å‡»çº¢å¿ƒåçš„æ–‡ä»¶å­˜æ”¾å¤„
  favorites_dir: "D:/code/music-monitor/favorites"
  
  # ç¼“å­˜ç­–ç•¥
  auto_cache_enabled: true
  max_cache_size: 10737418240
  cleanup_threshold: 0.8
  retention_days: 180

# --- 6. ç³»ç»Ÿ/å¤–éƒ¨é“¾æ¥ (System) ---
system:
    external_url: "http://localhost:8000" # ç”¨äºç”Ÿæˆåˆ†äº«é“¾æ¥

# ==============================================================================
# ğŸš€ è¿ç§»è¾…åŠ© (Migration Helper)
# 
# å¦‚æœé€šè¿‡ Config è¿ç§»æ—§ç‰ˆé€šçŸ¥è®¾ç½®ï¼Œå¯ä»¥åœ¨æ­¤å¡«å†™ã€‚
# å¯åŠ¨ä¸€æ¬¡æˆåŠŸå¯¼å…¥æ•°æ®åº“åï¼Œæ¨èåœ¨ UI ä¸­ç®¡ç†ã€‚
# ==============================================================================
\nnotify:
  telegram:
    bot_token: ''
    chat_id: ''
    enabled: false
  wecom:
    agentid: '1000003'
    corpid: ww6582ddf3c02fd7fc
    corpsecret: ydDzU7MFP5DajogWWeokkGPk-CCBgAAUHQzAOENhlgU
    enabled: true
    encoding_aes_key: 5DPQJNC16VWPO8ds7U69rE2E9CA9sdgu7uO4LDpWSC3
    token: adOEH9t8JERvROoCbx2PH
