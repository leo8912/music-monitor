---
name: ruoyi-code-generator
description: |
  åŸºäºè‹¥ä¾(RuoYi)æ¡†æ¶è§„èŒƒç”Ÿæˆ CRUD ä»£ç ã€‚å½“ç”¨æˆ·éœ€è¦ä¸ºæ•°æ®è¡¨ç”Ÿæˆåç«¯Javaä»£ç ï¼ˆå®ä½“ç±»ã€Mapperã€Serviceã€Controllerï¼‰ã€
  å‰ç«¯Vueä»£ç ï¼ˆåˆ—è¡¨é¡µã€APIå°è£…ï¼‰ã€MyBatis XMLæ˜ å°„æ–‡ä»¶æˆ–èœå•åˆå§‹åŒ–SQLæ—¶ä½¿ç”¨æ­¤æŠ€èƒ½ã€‚
  é€‚ç”¨äº: åˆ›å»ºæ–°æ¨¡å—ã€æ·»åŠ ä¸šåŠ¡åŠŸèƒ½ã€æ ¹æ®è¡¨ç»“æ„ç”Ÿæˆä»£ç ç­‰åœºæ™¯ã€‚
---

# RuoYi ä»£ç ç”Ÿæˆå™¨æŠ€èƒ½

## ğŸ“Œ ç›®æ ‡ (Goal)

æ ¹æ®ç”¨æˆ·æä¾›çš„æ•°æ®è¡¨ä¿¡æ¯ï¼ˆè¡¨åã€å­—æ®µå®šä¹‰ï¼‰ï¼ŒæŒ‰ç…§è‹¥ä¾æ¡†æ¶è§„èŒƒè‡ªåŠ¨ç”Ÿæˆå®Œæ•´çš„ CRUD ä»£ç ï¼ŒåŒ…æ‹¬ï¼š
- Java åç«¯ä»£ç ï¼ˆDomainã€Mapperã€Serviceã€ServiceImplã€Controllerï¼‰
- MyBatis XML æ˜ å°„æ–‡ä»¶
- Vue å‰ç«¯ä»£ç ï¼ˆé¡µé¢ç»„ä»¶ã€API å°è£…ï¼‰
- èœå•åˆå§‹åŒ– SQL

---

## ğŸ“¥ è¾“å…¥å®šä¹‰ (Input)

ç”¨æˆ·éœ€è¦æä¾›ä»¥ä¸‹ä¿¡æ¯ï¼ˆå¯ä»¥é€šè¿‡å¯¹è¯æ¾„æ¸…è·å–ï¼‰ï¼š

| å‚æ•° | å¿…å¡« | è¯´æ˜ | ç¤ºä¾‹ |
|------|------|------|------|
| `tableName` | âœ… | æ•°æ®åº“è¡¨å | `sys_product` |
| `tableComment` | âœ… | è¡¨æ³¨é‡Š/åŠŸèƒ½åç§° | `äº§å“ç®¡ç†` |
| `columns` | âœ… | å­—æ®µåˆ—è¡¨ï¼ˆå«ç±»å‹ã€æ³¨é‡Šï¼‰ | è§ä¸‹æ–¹ç¤ºä¾‹ |
| `packageName` | âŒ | åŒ…è·¯å¾„ï¼Œé»˜è®¤ `com.ruoyi.system` | `com.ruoyi.business` |
| `moduleName` | âŒ | æ¨¡å—åï¼Œé»˜è®¤å–è¡¨å‰ç¼€åçš„åç§° | `product` |
| `businessName` | âŒ | ä¸šåŠ¡åç§°ï¼Œé»˜è®¤å–è¡¨åå»å‰ç¼€ | `product` |
| `author` | âŒ | ä½œè€…åï¼Œé»˜è®¤ `ruoyi` | `zhangsan` |
| `tplCategory` | âŒ | æ¨¡æ¿ç±»å‹: `crud`/`tree`/`sub`ï¼Œé»˜è®¤ `crud` | `crud` |

### å­—æ®µå®šä¹‰ç¤ºä¾‹

```json
{
  "tableName": "sys_product",
  "tableComment": "äº§å“ç®¡ç†",
  "columns": [
    {"name": "product_id", "type": "bigint", "comment": "äº§å“ID", "isPk": true, "isIncrement": true},
    {"name": "product_name", "type": "varchar(100)", "comment": "äº§å“åç§°", "isRequired": true, "isQuery": true},
    {"name": "product_code", "type": "varchar(50)", "comment": "äº§å“ç¼–ç ", "isRequired": true},
    {"name": "category_id", "type": "bigint", "comment": "åˆ†ç±»ID", "dictType": "product_category"},
    {"name": "price", "type": "decimal(10,2)", "comment": "ä»·æ ¼"},
    {"name": "status", "type": "char(1)", "comment": "çŠ¶æ€ï¼ˆ0æ­£å¸¸ 1åœç”¨ï¼‰", "dictType": "sys_normal_disable"},
    {"name": "create_time", "type": "datetime", "comment": "åˆ›å»ºæ—¶é—´"}
  ]
}
```

---

## ğŸ“¤ è¾“å‡ºå®šä¹‰ (Output)

ç”Ÿæˆä»¥ä¸‹æ–‡ä»¶ç»“æ„çš„ä»£ç ï¼š

```
è¾“å‡ºæ–‡ä»¶æ¸…å•:
â”œâ”€â”€ java/
â”‚   â”œâ”€â”€ domain/{ClassName}.java          # å®ä½“ç±»
â”‚   â”œâ”€â”€ mapper/{ClassName}Mapper.java    # Mapperæ¥å£
â”‚   â”œâ”€â”€ service/I{ClassName}Service.java # Serviceæ¥å£
â”‚   â”œâ”€â”€ service/impl/{ClassName}ServiceImpl.java  # Serviceå®ç°
â”‚   â””â”€â”€ controller/{ClassName}Controller.java     # RESTæ§åˆ¶å™¨
â”œâ”€â”€ xml/
â”‚   â””â”€â”€ {ClassName}Mapper.xml             # MyBatisæ˜ å°„æ–‡ä»¶
â”œâ”€â”€ vue/
â”‚   â”œâ”€â”€ api/{businessName}.js             # APIå°è£…
â”‚   â””â”€â”€ views/{moduleName}/{businessName}/index.vue  # é¡µé¢ç»„ä»¶
â””â”€â”€ sql/
    â””â”€â”€ {businessName}Menu.sql            # èœå•åˆå§‹åŒ–SQL
```

---

## ğŸ“‹ æ‰§è¡Œæµç¨‹ (Workflow)

### ç¬¬ä¸€æ­¥ï¼šä¿¡æ¯æ”¶é›†ä¸éªŒè¯

1. **è§£æç”¨æˆ·è¯·æ±‚**ï¼šè¯†åˆ«è¡¨åã€å­—æ®µä¿¡æ¯
2. **ç¼ºçœä¿¡æ¯è¿½é—®**ï¼šå¦‚æœç¼ºå°‘å¿…è¦ä¿¡æ¯ï¼Œä¸»åŠ¨è¯¢é—®ç”¨æˆ·
3. **æ¨æ–­é»˜è®¤å€¼**ï¼š
   - `className` = è¡¨åè½¬å¤§é©¼å³°ï¼ˆå»é™¤è¡¨å‰ç¼€å¦‚ `sys_`ï¼‰
   - `moduleName` = è¡¨å‰ç¼€åçš„æ¨¡å—å
   - `businessName` = è¡¨åå»å‰ç¼€åçš„å°å†™å½¢å¼
   - ä¸»é”®å­—æ®µ = å­—æ®µä¸­ `isPk=true` çš„å­—æ®µï¼Œé»˜è®¤ä¸º `{tableName}_id`

### ç¬¬äºŒæ­¥ï¼šå˜é‡å‡†å¤‡

æ ¹æ®è¾“å…¥è®¡ç®—æ‰€æœ‰æ¨¡æ¿å˜é‡ï¼š

```
æ ¸å¿ƒå˜é‡:
- ${tableName}         è¡¨å
- ${tableComment}      è¡¨æ³¨é‡Š  
- ${ClassName}         ç±»å(å¤§é©¼å³°)
- ${className}         ç±»å(å°é©¼å³°)
- ${moduleName}        æ¨¡å—å
- ${businessName}      ä¸šåŠ¡å
- ${BusinessName}      ä¸šåŠ¡å(é¦–å­—æ¯å¤§å†™)
- ${packageName}       åŒ…è·¯å¾„
- ${author}            ä½œè€…
- ${datetime}          ç”Ÿæˆæ—¥æœŸ
- ${pkColumn}          ä¸»é”®å­—æ®µä¿¡æ¯
- ${columns}           æ‰€æœ‰å­—æ®µåˆ—è¡¨
- ${permissionPrefix}  æƒé™å‰ç¼€ (æ ¼å¼: moduleName:businessName)
```

### ç¬¬ä¸‰æ­¥ï¼šä»£ç ç”Ÿæˆ

æŒ‰é¡ºåºè¯»å–å¹¶å¡«å……æ¨¡æ¿ï¼š

1. **è¯»å–æ¨¡æ¿æ–‡ä»¶**ï¼šä» `templates/` ç›®å½•åŠ è½½å¯¹åº”æ¨¡æ¿
2. **å˜é‡æ›¿æ¢**ï¼šå°† `${å˜é‡å}` æ›¿æ¢ä¸ºå®é™…å€¼
3. **æ¡ä»¶å¤„ç†**ï¼šæ ¹æ®å­—æ®µé…ç½®å¤„ç† `#if/#foreach` é€»è¾‘
4. **è¾“å‡ºä»£ç **ï¼šç”Ÿæˆæœ€ç»ˆä»£ç æ–‡ä»¶

### ç¬¬å››æ­¥ï¼šè‡ªæ£€ä¸äº¤ä»˜

1. **ä»£ç å®¡æŸ¥**ï¼šæ£€æŸ¥ç”Ÿæˆçš„ä»£ç æ˜¯å¦ç¬¦åˆè§„èŒƒ
2. **ä¾èµ–æç¤º**ï¼šå‘ŠçŸ¥ç”¨æˆ·éœ€è¦æ·»åŠ çš„ä¾èµ–æˆ–é…ç½®
3. **ä½¿ç”¨è¯´æ˜**ï¼šæä¾›åç»­æ“ä½œæŒ‡å¼•

---

## âš ï¸ çº¦æŸæ¡ä»¶ (Constraints)

1. **å‘½åè§„èŒƒ**ï¼š
   - ç±»åå¿…é¡»ä½¿ç”¨å¤§é©¼å³° (PascalCase)
   - å˜é‡åå¿…é¡»ä½¿ç”¨å°é©¼å³° (camelCase)
   - åŒ…è·¯å¾„å¿…é¡»å…¨å°å†™

2. **ç¼–ç è§„èŒƒ**ï¼š
   - Java æ–‡ä»¶ä½¿ç”¨ UTF-8 ç¼–ç 
   - ç¼©è¿›ä½¿ç”¨ 4 ä¸ªç©ºæ ¼
   - å¿…é¡»åŒ…å«å®Œæ•´çš„ Javadoc æ³¨é‡Š

3. **å®‰å…¨è§„èŒƒ**ï¼š
   - Controller å¿…é¡»æ·»åŠ  `@PreAuthorize` æƒé™æ³¨è§£
   - åˆ é™¤æ“ä½œå¿…é¡»æ·»åŠ  `@Log` æ—¥å¿—æ³¨è§£
   - æ•æ„Ÿå­—æ®µï¼ˆå¦‚å¯†ç ï¼‰ä¸å‡ºç°åœ¨åˆ—è¡¨å±•ç¤ºä¸­

4. **ç¦æ­¢äº‹é¡¹**ï¼š
   - âŒ ä¸ç”Ÿæˆæµ‹è¯•ç±»ï¼ˆå¦‚éœ€è¦è¯·å•ç‹¬è¯·æ±‚ï¼‰
   - âŒ ä¸ä¿®æ”¹å·²å­˜åœ¨çš„æ–‡ä»¶ï¼ˆé™¤éç”¨æˆ·æ˜ç¡®è¦æ±‚ï¼‰
   - âŒ ä¸ç¡¬ç¼–ç ä»»ä½•æ•æ„Ÿä¿¡æ¯

---

## ğŸ”§ å­—æ®µç±»å‹æ˜ å°„

| æ•°æ®åº“ç±»å‹ | Javaç±»å‹ | è¯´æ˜ |
|-----------|---------|------|
| `bigint` | `Long` | é•¿æ•´å‹ |
| `int/integer` | `Integer` | æ•´å‹ |
| `varchar/char/text` | `String` | å­—ç¬¦ä¸² |
| `datetime/timestamp` | `Date` | æ—¥æœŸæ—¶é—´ |
| `date` | `Date` | æ—¥æœŸ |
| `decimal/numeric` | `BigDecimal` | é«˜ç²¾åº¦æ•°å€¼ |
| `float/double` | `Double` | æµ®ç‚¹æ•° |
| `tinyint(1)/bit` | `Boolean` | å¸ƒå°”å€¼ |

---

## ğŸ“ æ¨¡æ¿å¼•ç”¨

ç”Ÿæˆä»£ç æ—¶ï¼Œè¯·å‚è€ƒä»¥ä¸‹æ¨¡æ¿æ–‡ä»¶ï¼š

- **Java æ¨¡æ¿**: `templates/java/` ç›®å½•ä¸‹çš„ `.vm` æ–‡ä»¶
- **Vue æ¨¡æ¿**: `templates/vue/` ç›®å½•ä¸‹çš„ `.vm` æ–‡ä»¶
- **XML æ¨¡æ¿**: `templates/xml/` ç›®å½•ä¸‹çš„ `.vm` æ–‡ä»¶
- **SQL æ¨¡æ¿**: `templates/sql/` ç›®å½•ä¸‹çš„ `.vm` æ–‡ä»¶

---

## ğŸ’¡ ä½¿ç”¨ç¤ºä¾‹

### ç¤ºä¾‹å¯¹è¯ 1ï¼šåŸºç¡€ç”Ÿæˆ

**ç”¨æˆ·**: å¸®æˆ‘ç”Ÿæˆä¸€ä¸ªäº§å“ç®¡ç†æ¨¡å—çš„ä»£ç ï¼Œè¡¨åæ˜¯ sys_product

**Agent å“åº”**:
1. é¦–å…ˆç¡®è®¤å­—æ®µä¿¡æ¯
2. æ¨æ–­é»˜è®¤é…ç½®
3. ç”Ÿæˆå®Œæ•´ä»£ç 
4. æä¾›ä½¿ç”¨è¯´æ˜

### ç¤ºä¾‹å¯¹è¯ 2ï¼šæŒ‡å®šé…ç½®

**ç”¨æˆ·**: 
```
ç”Ÿæˆä»£ç :
- è¡¨å: biz_order
- åŠŸèƒ½: è®¢å•ç®¡ç†  
- åŒ…è·¯å¾„: com.ruoyi.business
- å­—æ®µ: order_id(ä¸»é”®), order_no(è®¢å•å·), customer_name(å®¢æˆ·å), amount(é‡‘é¢), status(çŠ¶æ€), create_time(åˆ›å»ºæ—¶é—´)
```

**Agent å“åº”**:
```
å·²ä¸ºæ‚¨ç”Ÿæˆè®¢å•ç®¡ç†æ¨¡å—ä»£ç ï¼ŒåŒ…å«ä»¥ä¸‹æ–‡ä»¶ï¼š

Javaåç«¯:
- Order.java (å®ä½“ç±»)
- OrderMapper.java (Mapperæ¥å£)
- IOrderService.java (Serviceæ¥å£)
- OrderServiceImpl.java (Serviceå®ç°)
- OrderController.java (æ§åˆ¶å™¨)

MyBatis:
- OrderMapper.xml (æ˜ å°„æ–‡ä»¶)

Vueå‰ç«¯:
- order.js (APIå°è£…)
- index.vue (åˆ—è¡¨é¡µé¢)

SQLè„šæœ¬:
- orderMenu.sql (èœå•åˆå§‹åŒ–)

[å…·ä½“ä»£ç å†…å®¹...]
```

---

## ğŸ”„ ç‰ˆæœ¬è¯´æ˜

- **å…¼å®¹ç‰ˆæœ¬**: RuoYi-Vue v3.9.x
- **å‰ç«¯æ¡†æ¶**: Vue 2 + Element UI
- **åç«¯æ¡†æ¶**: Spring Boot 2.x + MyBatis
